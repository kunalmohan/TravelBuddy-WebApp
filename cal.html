<!DOCTYPE html>
<html>
<head>
	<title></title>
	
</head>
<body>
	<div id="main-container">
		<div class="jumbotron">
			<h1 class="text-center">
				<a id="left" href="#">left</a>
				<span>&nbsp;</span>
				<span id="month"></span>
				<span>&nbsp;</span>
				<span id="year"></span>
				<a id="right" href="#">right</a>
			</h1>
		</div>
		<div class="row">
			<div>
				<table id="table"></table>
			</div>			
		</div>
	</div>
	<span id="about"></span>

	<script type="text/javascript">
		  var tabl = document.getElementById("table");
    var month = document.getElementById("month");
    var year = document.getElementById("year");
    
    var left = document.getElementById("left");
    var right = document.getElementById("right");

  var currentDate = new Date();
  function generateCalendar(d) {
  /*  function monthDays(month, year) {
      var result = [];
      var days = new Date(year, month, 0).getDate();
      for (var i = 1; i <= days; i++) {
        result.push(i);
      }
      return result;
    }*/
    Date.prototype.monthDays = function() {
      var d = new Date(this.getFullYear(), this.getMonth() + 1, 0);
      return d.getDate();
    };
    var details = {
     //  totalDays: monthDays(d.getMonth(), d.getFullYear()),
      totalDays: d.monthDays(),
      weekDays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
    };
    var start = new Date(d.getFullYear(), d.getMonth()).getDay();
    var cal = [];
    var day = 1;
    for (var i = 0; i <= 6; i++) {
      cal.push(['<tr>']);
      for (var j = 0; j < 7; j++) {
        if (i === 0) {
          cal[i].push('<td>' + details.weekDays[j] + '</td>');
        } else if (day > details.totalDays) {
          cal[i].push('<td>&nbsp;</td>');
        } else {
          if (i === 1 && j < start) {
            cal[i].push('<td>&nbsp;</td>');
          } else {
            cal[i].push('<td class="day">' + day++ + '</td>');
          }
        }
      }
      cal[i].push('</tr>');
    }
    cal = cal.reduce(function(a, b) {
      return a.concat(b);
    }, []).join('');
    
    tabl.innerHTML = '';
    tabl.innerHTML += cal;
    month.innerHTML = details.months[d.getMonth()];
    year.innerHTML = d.getFullYear();
    var tdday = document.querySelectorAll(".day");
    tdday.forEach(tdd => {

    tdd.addEventListener('mouseover', function() {
      tdd.classList.add('hovr');
    })
	});

	tdday.forEach(tdd => {
    tdd.addEventListener('mouseout',function() {
      tdd.classList.remove('hovr');
    })
	});
    
  }

  left.addEventListener('click', function() {
    tabl.innerHTML += '';
    if (currentDate.getMonth() === 0) {
      currentDate = new Date(currentDate.getFullYear() - 1, 11);
      generateCalendar(currentDate);
    } else {
      currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1)
      generateCalendar(currentDate);
    }
  });
  right.addEventListener('click', function() {
    tabl.innerHTML += '<tr></tr>';
    if (currentDate.getMonth() === 11) {
      currentDate = new Date(currentDate.getFullYear() + 1, 0);
      generateCalendar(currentDate);
    } else {
      currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1)
      generateCalendar(currentDate);
    }
  });
  generateCalendar(currentDate);


	</script>

	<style type="text/css">
		td .day{
			color: blue;
			font-size: 20px;
		}

		table{
			width: 100%;
		}

		.text-center{
			text-align: center;
		}

		#left{
			float: left;
		}

		#right{
			float: right;
		}

		.hovr{
			color: red;
			background-color: blue;
		}

		td{
			background-color: yellow;
		}
	</style>
	
</body>
</html>